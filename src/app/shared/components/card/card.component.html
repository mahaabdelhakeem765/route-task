<div class="card rounded-md shadow-md max-w-sm bg-gray-50 p-2">

  <div class="relative group overflow-hidden cursor-pointer border border-black/30">
    <img [src]="myProduct().image" alt="Product" class="w-full h-[400px] object-contain transition-transform duration-500" />
    
    <div [routerLink]="['/product-details' , myProduct().id]" class="absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-25 transition-opacity duration-300 z-10">
        <div class="absolute top-2/5 left-1/2 -translate-x-1/2 flex flex-col gap-2 opacity-0 group-hover:opacity-100 group-hover:translate-y-1/2 transition-all duration-500 z-20">
          <a class=" text-white text-3xl hover:text-white transition cursor-pointer">
            <i class="fa-regular fa-eye"></i>
          </a>
        </div>
      </div>
    </div>
  <div class="p-3">
    <h3 class="text-md text-gray-900">{{myProduct().title.split(' ' , 3).join(' ')}}....</h3>
    <div class="flex justify-between items-center">
        <span class="font-medium text-gray-700">{{myProduct().price}} EGP</span>
        <div class="flex items-center space-x-1">
            <!-- Full Stars -->
            @for (star of [].constructor(getFullStarsCount()); track $index) {
                <ng-container>
                    <i class="fas fa-star text-yellow-400"></i>
                </ng-container>
            }

            <!-- Fractional Star -->
            @if (getFraction() > 0) {
                <div class="relative w-4 h-4 inline-block">
                    <i class="far fa-star text-yellow-400 absolute"></i>
                    <i class="fas fa-star text-yellow-400 absolute top-0 left-0 overflow-hidden" [style]="{ width: getFractionWidth() }"></i>
                </div>
            }

            <!-- Empty Stars -->
            @for (star of [].constructor(getEmptyStarsCount()); track $index) {
                <ng-container>
                    <i class="far fa-star text-yellow-400"></i>
                </ng-container>
            }
            <span class="text-gray-500 text-sm">({{ myProduct().rating.rate }})</span>
        </div>

    </div>
  </div>
</div>